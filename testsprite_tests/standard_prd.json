{
  "meta": {
    "project": "Dans Platformu",
    "date": "2026-02-19",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Dans Platformu is a marketplace and management platform connecting dance students, instructors and schools — offering course discovery, booking, messaging, and role-based admin/instructor panels. It combines searchable listings, profile management, real-time chat and application flows (become instructor / school) backed by Firebase.",
  "core_goals": [
    "Enable students to discover, filter and enroll in dance courses easily.",
    "Provide instructors and schools with role-specific panels for course creation and student management.",
    "Offer secure user authentication and profile management (email/password via Firebase Auth).",
    "Support real-time messaging between users and ensure discoverability (instructors, schools, partners, events).",
    "Provide admin tools to review and approve instructor and school applications."
  ],
  "features": [
    {
      "name": "User Authentication - Sign In",
      "description": "Allow existing users to log in with email and password using Firebase Auth.",
      "user_flows": [
        "Navigate to /signin -> Fill in email input field -> Fill in password input field -> Click the sign in / login button -> Redirect to home page on successful login",
        "Navigate to /signin -> Fill in email input field -> Fill in password input field (invalid) -> Click the sign in / login button -> See error message on invalid credentials"
      ]
    },
    {
      "name": "User Authentication - Sign Up",
      "description": "Register a new user account using Firebase Auth and redirect to the home page on success.",
      "user_flows": [
        "Navigate to /signup -> Fill in name, email, and password fields -> Click the sign up / register button -> Redirect to home on successful registration",
        "Navigate to /signup -> Fill in name field -> Fill in email field with invalid email -> Fill in password field -> Click the sign up / register button -> See validation error messages"
      ]
    },
    {
      "name": "Home Page",
      "description": "Landing page showing featured courses, featured instructors and navigation entry points to other sections.",
      "user_flows": [
        "Navigate to / -> View featured dance courses -> View featured instructors -> Click on navigation links (courses, instructors, schools) -> Navigate to /courses",
        "Navigate to / -> Click sign in / sign up buttons when not authenticated -> Navigate to /signin"
      ]
    },
    {
      "name": "Navigation",
      "description": "Top navigation bar and global actions for site-wide routing and theme toggling.",
      "user_flows": [
        "On any page Click on logo to go to home page -> Navigate to /",
        "On any page Click on navigation links (Kurslar, Eğitmenler, Okullar) -> Navigate to the corresponding route (e.g. /courses or /instructors or /schools)",
        "On any page Click Sign In button when not authenticated -> Navigate to /signin",
        "On any page Toggle dark/light theme -> See theme changed",
        "On any page Click on user avatar to access profile when authenticated -> Navigate to /profile",
        "On any page Click on user avatar when not authenticated -> Click Sign In button -> Navigate to /signin"
      ]
    },
    {
      "name": "Course Search",
      "description": "Search, filter and browse dance courses listed on the platform.",
      "user_flows": [
        "Navigate to /courses -> View list of available dance courses -> Search courses by keyword -> Click on a course to see its details -> Navigate to /courses/:id",
        "Navigate to /courses -> Filter courses by dance style, level, price range -> See empty state message when no courses match filters"
      ]
    },
    {
      "name": "Course Detail",
      "description": "Show full course information and allow users to enroll; prompt login when required.",
      "user_flows": [
        "Navigate to /courses/:id -> View course details (name, description, price, schedule) -> View instructor information -> If authenticated Click enroll / register button -> See enrollment confirmation",
        "Navigate to /courses/:id -> View course details (name, description, price, schedule) -> Click enroll / register button when not authenticated -> See login prompt"
      ]
    },
    {
      "name": "Instructors List",
      "description": "Browse and filter instructors; navigate to individual instructor profiles.",
      "user_flows": [
        "Navigate to /instructors -> View list of dance instructors -> Filter instructors by dance style or location -> Click on an instructor to view their profile -> Navigate to /instructors/:id",
        "Navigate to /instructors -> Filter instructors by dance style or location -> See empty state when no instructors match filters"
      ]
    },
    {
      "name": "Instructor Detail",
      "description": "Display an instructor's bio, lessons and allow authenticated users to message the instructor.",
      "user_flows": [
        "Navigate to /instructors/:id -> View instructor bio, experience, and dance styles -> View instructor's available lessons -> If authenticated Send message to instructor -> See message appear in chat",
        "Navigate to /instructors/:id -> View instructor bio, experience, and dance styles -> Send message to instructor when not authenticated -> See login prompt"
      ]
    },
    {
      "name": "Schools List",
      "description": "List dance schools, allow filtering and navigation to school detail pages.",
      "user_flows": [
        "Navigate to /schools -> View list of dance schools -> Filter schools by location or dance style -> Click on a school to view details -> Navigate to /schools/:id",
        "Navigate to /schools -> Filter schools by location or dance style -> See empty state when no schools match filters"
      ]
    },
    {
      "name": "Partner Search",
      "description": "Find dance partners using filters and send partner requests.",
      "user_flows": [
        "Navigate to /partners -> View available dance partners -> Filter partners by dance style, level, location -> Request to dance with a partner -> See request confirmation",
        "Navigate to /partners -> Request to dance with a partner when not authenticated -> See login prompt"
      ]
    },
    {
      "name": "Become Instructor",
      "description": "Application form for users to apply as instructors (includes uploads and style selection).",
      "user_flows": [
        "Navigate to /become-instructor -> Fill in personal information form -> Select dance styles -> Upload profile photo and certificates -> Submit the application form -> See application submission confirmation",
        "Navigate to /become-instructor -> Leave required fields blank -> Submit the application form -> See validation error messages"
      ]
    },
    {
      "name": "Become School",
      "description": "School registration application including photos and dance style selection.",
      "user_flows": [
        "Navigate to /become-school -> Fill in school information (name, address, description) -> Upload school photos -> Select offered dance styles -> Submit school registration application -> See application submission confirmation",
        "Navigate to /become-school -> Upload invalid file type for school photos -> Submit school registration application -> See validation error messages"
      ]
    },
    {
      "name": "User Profile",
      "description": "Authenticated user's profile view and edit experience including photo uploads.",
      "user_flows": [
        "Navigate to /profile -> View own profile information -> Edit profile details (name, bio, dance styles) -> Upload/change profile photo -> Save profile changes -> See updated profile saved confirmation",
        "Navigate to /profile when not authenticated -> Redirect to /signin"
      ]
    },
    {
      "name": "Chat / Messaging",
      "description": "Real-time messaging panel for authenticated users to view conversations and send messages.",
      "user_flows": [
        "Click floating chat button (bottom-right) -> View list of conversations in the chat panel -> Open a specific conversation -> Send a text message -> See message appear in the conversation and unread message count updated",
        "Click floating chat button (bottom-right) when not authenticated -> See login prompt -> Navigate to /signin"
      ]
    },
    {
      "name": "Instructor Panel",
      "description": "Role-restricted instructor dashboard for creating and managing lessons and viewing students.",
      "user_flows": [
        "Navigate to /instructor -> View instructor dashboard with earnings summary -> View list of active lessons -> Click Create a new lesson -> Fill lesson form -> Save the lesson -> See new lesson in the list",
        "Navigate to /instructor when not authenticated or not an instructor -> Redirect to /signin or show access denied"
      ]
    },
    {
      "name": "Admin Panel",
      "description": "Admin dashboard for platform-wide statistics and approving instructor/school requests.",
      "user_flows": [
        "Navigate to /admin -> View platform statistics (users, lessons, schools) -> Click Manage instructor requests -> Approve an instructor request -> See instructor request marked as approved",
        "Navigate to /admin when not authenticated or not an admin -> Redirect to /signin or show access denied"
      ]
    },
    {
      "name": "Festivals",
      "description": "List upcoming dance festivals and view festival details.",
      "user_flows": [
        "Navigate to /festivals -> View list of upcoming dance festivals -> Click on a festival to view festival details -> View festival date, location and dance styles",
        "Navigate to /festivals -> See empty state when no upcoming festivals are available"
      ]
    },
    {
      "name": "Nights",
      "description": "List upcoming dance nights / social events and their details.",
      "user_flows": [
        "Navigate to /nights -> View list of upcoming dance nights / social events -> Click on an event to view event details -> View event date, venue and music style",
        "Navigate to /nights -> See empty state when no upcoming nights are available"
      ]
    }
  ],
  "code_summary": {
    "version": "2",
    "type": "frontend",
    "tech_stack": [
      "TypeScript",
      "React 18",
      "Vite",
      "React Router DOM 6",
      "Firebase (Auth + Firestore + Storage)",
      "TailwindCSS",
      "MUI (Material UI)",
      "Framer Motion",
      "react-hot-toast"
    ],
    "routes": [
      {
        "path": "/",
        "file": "src/pages/home/HomePage.tsx",
        "auth_required": false,
        "description": "Ana sayfa - Dans platformu giriş sayfası, öne çıkan kurslar ve eğitmenler"
      },
      {
        "path": "/signin",
        "file": "src/pages/auth/SignIn.tsx",
        "auth_required": false,
        "description": "Kullanıcı giriş sayfası - Email/şifre ile Firebase Auth"
      },
      {
        "path": "/signup",
        "file": "src/pages/auth/SignUp.tsx",
        "auth_required": false,
        "description": "Kullanıcı kayıt sayfası"
      },
      {
        "path": "/courses",
        "file": "src/pages/courses/CourseSearchPage.tsx",
        "auth_required": false,
        "description": "Dans kurslarını arama ve filtreleme sayfası"
      },
      {
        "path": "/courses/:id",
        "file": "src/pages/courses/CourseDetailPage.tsx",
        "auth_required": false,
        "description": "Belirli bir kursun detay sayfası"
      },
      {
        "path": "/instructors",
        "file": "src/pages/instructors/InstructorsListPage.tsx",
        "auth_required": false,
        "description": "Tüm eğitmenlerin listelendiği sayfa"
      },
      {
        "path": "/instructors/:id",
        "file": "src/pages/instructors/InstructorDetailPage.tsx",
        "auth_required": false,
        "description": "Belirli bir eğitmenin profil detay sayfası"
      },
      {
        "path": "/schools",
        "file": "src/pages/schools/SchoolsListPage.tsx",
        "auth_required": false,
        "description": "Dans okullarının listelendiği sayfa"
      },
      {
        "path": "/schools/:id",
        "file": "src/pages/schools/SchoolDetailPage.tsx",
        "auth_required": false,
        "description": "Belirli bir dans okulunun detay sayfası"
      },
      {
        "path": "/partners",
        "file": "src/pages/partners/PartnerSearchPage.tsx",
        "auth_required": false,
        "description": "Dans partneri arama sayfası"
      },
      {
        "path": "/festivals",
        "file": "src/pages/festivals/Festivals.tsx",
        "auth_required": false,
        "description": "Dans festivalleri listesi"
      },
      {
        "path": "/nights",
        "file": "src/pages/nights/Nights.tsx",
        "auth_required": false,
        "description": "Dans geceleri listesi"
      },
      {
        "path": "/progress",
        "file": "src/pages/progress/ProgressPage.tsx",
        "auth_required": true,
        "description": "Kullanıcı gelişim takip sayfası (giriş gerektirir)"
      },
      {
        "path": "/profile",
        "file": "src/pages/profile/ProfilePage.tsx",
        "auth_required": true,
        "description": "Kullanıcı profil sayfası (giriş gerektirir)"
      },
      {
        "path": "/admin",
        "file": "src/features/admin/pages/AdminPanel.tsx",
        "auth_required": true,
        "description": "Admin paneli - sadece admin rolündeki kullanıcılar için"
      },
      {
        "path": "/instructor",
        "file": "src/features/instructor/pages/InstructorPanel.tsx",
        "auth_required": true,
        "description": "Eğitmen paneli - sadece instructor rolündeki kullanıcılar için"
      },
      {
        "path": "/school-admin",
        "file": "src/features/school/pages/SchoolAdmin.tsx",
        "auth_required": true,
        "description": "Okul yönetici paneli - sadece school rolündeki kullanıcılar için"
      },
      {
        "path": "/become-instructor",
        "file": "src/features/instructor/pages/BecomeInstructor.tsx",
        "auth_required": false,
        "description": "Eğitmen başvuru formu sayfası"
      },
      {
        "path": "/become-school",
        "file": "src/features/school/pages/BecomeSchool.tsx",
        "auth_required": false,
        "description": "Dans okulu başvuru formu sayfası"
      }
    ],
    "features": [
      {
        "name": "User Authentication - Sign In",
        "description": "Firebase Auth ile email/şifre kullanarak kullanıcı girişi",
        "files": [
          "src/pages/auth/SignIn.tsx",
          "src/common/hooks/useAuth.ts",
          "src/api/firebase/firebase.ts"
        ],
        "entry_route": "/signin",
        "user_interactions": [
          "Navigate to /signin page",
          "Fill in email input field",
          "Fill in password input field",
          "Click the sign in / login button",
          "See error message on invalid credentials",
          "Redirect to home page on successful login"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "Firebase Auth signInWithEmailAndPassword"
          }
        ],
        "auth_required": false
      },
      {
        "name": "User Authentication - Sign Up",
        "description": "Firebase Auth ile yeni kullanıcı kaydı",
        "files": [
          "src/pages/auth/SignUp.tsx",
          "src/common/hooks/useAuth.ts"
        ],
        "entry_route": "/signup",
        "user_interactions": [
          "Navigate to /signup page",
          "Fill in name, email, and password fields",
          "Click the sign up / register button",
          "See validation error messages",
          "Redirect to home on successful registration"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "Firebase Auth createUserWithEmailAndPassword"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Home Page",
        "description": "Ana sayfa - öne çıkan kurslar, eğitmenler ve platform bilgisi",
        "files": [
          "src/pages/home/HomePage.tsx"
        ],
        "entry_route": "/",
        "user_interactions": [
          "View featured dance courses",
          "View featured instructors",
          "Click on navigation links (courses, instructors, schools)",
          "Click sign in / sign up buttons when not authenticated"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "Firestore - lessons collection"
          },
          {
            "method": "GET",
            "endpoint": "Firestore - instructors collection"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Course Search",
        "description": "Dans kurslarını arama, filtreleme ve listeleme",
        "files": [
          "src/pages/courses/CourseSearchPage.tsx"
        ],
        "entry_route": "/courses",
        "user_interactions": [
          "View list of available dance courses",
          "Search courses by keyword",
          "Filter courses by dance style, level, price range",
          "Click on a course to see its details"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "Firestore - lessons collection"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Course Detail",
        "description": "Belirli bir dans kursunun detail görüntüleme ve kayıt",
        "files": [
          "src/pages/courses/CourseDetailPage.tsx"
        ],
        "entry_route": "/courses/:id",
        "user_interactions": [
          "View course details (name, description, price, schedule)",
          "View instructor information",
          "Click enroll / register button",
          "See login prompt if not authenticated when trying to enroll"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "Firestore - lessons/:id document"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Instructors List",
        "description": "Tüm eğitmenlerin listelenmesi ve filtrelenmesi",
        "files": [
          "src/pages/instructors/InstructorsListPage.tsx"
        ],
        "entry_route": "/instructors",
        "user_interactions": [
          "View list of dance instructors",
          "Filter instructors by dance style or location",
          "Click on an instructor to view their profile"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "Firestore - instructors collection"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Instructor Detail",
        "description": "Eğitmen profili ve derslerinin görüntülenmesi",
        "files": [
          "src/pages/instructors/InstructorDetailPage.tsx"
        ],
        "entry_route": "/instructors/:id",
        "user_interactions": [
          "View instructor bio, experience, and dance styles",
          "View instructor's available lessons",
          "Send message to instructor (if authenticated)",
          "View instructor ratings and reviews"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "Firestore - instructors/:id document"
          },
          {
            "method": "GET",
            "endpoint": "Firestore - lessons (filtered by instructor)"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Schools List",
        "description": "Dans okullarının listelenmesi",
        "files": [
          "src/pages/schools/SchoolsListPage.tsx"
        ],
        "entry_route": "/schools",
        "user_interactions": [
          "View list of dance schools",
          "Filter schools by location or dance style",
          "Click on a school to view details"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "Firestore - schools collection"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Partner Search",
        "description": "Dans partneri arama ve eşleşme",
        "files": [
          "src/pages/partners/PartnerSearchPage.tsx"
        ],
        "entry_route": "/partners",
        "user_interactions": [
          "View available dance partners",
          "Filter partners by dance style, level, location",
          "Request to dance with a partner"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "Firestore - users collection (partner search)"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Become Instructor",
        "description": "Eğitmen başvuru formu",
        "files": [
          "src/features/instructor/pages/BecomeInstructor.tsx"
        ],
        "entry_route": "/become-instructor",
        "user_interactions": [
          "Fill in personal information form",
          "Select dance styles",
          "Upload profile photo and certificates",
          "Submit the application form"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "Firestore - instructorRequests collection"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Become School",
        "description": "Dans okulu başvuru formu",
        "files": [
          "src/features/school/pages/BecomeSchool.tsx"
        ],
        "entry_route": "/become-school",
        "user_interactions": [
          "Fill in school information (name, address, description)",
          "Upload school photos",
          "Select offered dance styles",
          "Submit school registration application"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "Firestore - schoolRequests collection"
          }
        ],
        "auth_required": false
      },
      {
        "name": "User Profile",
        "description": "Kullanıcı profili görüntüleme ve düzenleme",
        "files": [
          "src/pages/profile/ProfilePage.tsx"
        ],
        "entry_route": "/profile",
        "user_interactions": [
          "View own profile information",
          "Edit profile details (name, bio, dance styles)",
          "Upload/change profile photo",
          "Save profile changes"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "Firestore - users/:id document"
          },
          {
            "method": "PUT",
            "endpoint": "Firestore - users/:id document"
          },
          {
            "method": "POST",
            "endpoint": "Firebase Storage - profile photos"
          }
        ],
        "auth_required": true
      },
      {
        "name": "Festivals",
        "description": "Dans festivallerinin listelenmesi",
        "files": [
          "src/pages/festivals/Festivals.tsx"
        ],
        "entry_route": "/festivals",
        "user_interactions": [
          "View list of upcoming dance festivals",
          "View festival details (date, location, dance styles)"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "Firestore - festivals collection"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Nights",
        "description": "Dans gecelerinin listelenmesi",
        "files": [
          "src/pages/nights/Nights.tsx"
        ],
        "entry_route": "/nights",
        "user_interactions": [
          "View list of upcoming dance nights / social events",
          "View event details (date, venue, music style)"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "Firestore - nights collection"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Chat / Messaging",
        "description": "Kullanıcılar arası mesajlaşma sistemi",
        "files": [
          "src/features/chat/components/ChatDialog.tsx",
          "src/features/chat/components/ChatList.tsx"
        ],
        "entry_route": "/",
        "user_interactions": [
          "Click floating chat button (bottom-right)",
          "View list of conversations in the chat panel",
          "Open a specific conversation",
          "Send a text message",
          "View unread message count badge"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "Firestore - messages collection (real-time)"
          },
          {
            "method": "POST",
            "endpoint": "Firestore - messages collection"
          }
        ],
        "auth_required": true
      },
      {
        "name": "Instructor Panel",
        "description": "Eğitmen yönetim paneli - ders oluşturma, öğrenci yönetimi",
        "files": [
          "src/features/instructor/pages/InstructorPanel.tsx"
        ],
        "entry_route": "/instructor",
        "user_interactions": [
          "View instructor dashboard with earnings summary",
          "View list of active lessons",
          "Create a new lesson",
          "Edit or deactivate existing lessons",
          "View student enrollments"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "Firestore - lessons (filtered by instructor)"
          },
          {
            "method": "POST",
            "endpoint": "Firestore - lessons collection"
          },
          {
            "method": "PUT",
            "endpoint": "Firestore - lessons/:id document"
          }
        ],
        "auth_required": true
      },
      {
        "name": "Admin Panel",
        "description": "Platform yönetici paneli",
        "files": [
          "src/features/admin/pages/AdminPanel.tsx"
        ],
        "entry_route": "/admin",
        "user_interactions": [
          "View platform statistics (users, lessons, schools)",
          "Manage instructor requests (approve/reject)",
          "Manage school requests (approve/reject)",
          "View and manage all users"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "Firestore - instructorRequests collection"
          },
          {
            "method": "GET",
            "endpoint": "Firestore - schoolRequests collection"
          },
          {
            "method": "PUT",
            "endpoint": "Firestore - instructorRequests/:id document"
          }
        ],
        "auth_required": true
      },
      {
        "name": "Navigation",
        "description": "Üst navigasyon bar ile sayfa gezinme",
        "files": [
          "src/common/components/layout/Navbar.tsx"
        ],
        "entry_route": "/",
        "user_interactions": [
          "Click on logo to go to home page",
          "Click on navigation links (Kurslar, Eğitmenler, Okullar, etc.)",
          "Click Sign In button when not authenticated",
          "Click on user avatar to access profile when authenticated",
          "Toggle dark/light theme"
        ],
        "api_calls": [],
        "auth_required": false
      }
    ],
    "known_limitations": [
      {
        "issue": "Admin CRUD operations depend on Firebase Firestore - some may not work without proper auth roles",
        "location": "src/features/admin/pages/AdminPanel.tsx",
        "impact": "Only admin-role users can access the panel"
      },
      {
        "issue": "Chat feature requires Firestore real-time listeners which need proper security rules",
        "location": "src/features/chat/components/ChatList.tsx",
        "impact": "Messages may not load if security rules are not configured"
      },
      {
        "issue": "Instructor Panel is restricted to instructor-role users only",
        "location": "src/features/instructor/pages/InstructorPanel.tsx",
        "impact": "Regular users get redirected to sign-in when trying to access /instructor"
      }
    ]
  }
}
